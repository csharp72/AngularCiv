<!DOCTYPE html>
<html ng-app="app">
<head>
	<title>Angular Civ Clicker</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.19/angular.min.js"></script>
	<script type="text/javascript" src="./js/game.js"></script>
	<script type="text/javascript" src="./js/workers.js"></script>
	<script type="text/javascript" src="./js/buildings.js"></script>
	<script type="text/javascript" src="./js/resources.js"></script>
	<script type="text/javascript" src="./js/filters.js"></script>
	<link rel="stylesheet" type="text/css" href="css/index.css">
</head>
<body ng-controller="GameCtrl">

	<h3>Resources</h3>
	<div class="resources">
		<div class="resource" ng-repeat="(name, r) in resources">
			<h4>{{name}}</h4>
			<div>{{r.total | int}}{{r.max !== false ? ' / ' + r.max : ''}}</div>
			<div>{{r.productionRate | float1}}/sec</div>
		</div>
	</div>

	<div class="basic-resources">
		<div class="basic-resource" ng-repeat="br in resources.basic">
			<button ng-click="br.collect()">Gather {{br.name}}</button>
		</div>
	</div>

	<h3>People</h3>
	<div class="population">
		<div>Max Population: {{ population.max }}</div>
		<div>Population: {{ population.total }}</div>
		<div>Unemployed: {{ population.getJobTotal( jobs.unemployed ) }}</div>
		<button class="btn" ng-disabled="!canMakeWorker()" ng-click="population.makeWorker()">Create Worker</button> Requires {{jobs.unemployed.cost | displayCost}}
		<div ng-repeat="job in workingJobs">
			<button class="btn" ng-disabled="!population.getJobTotal(job)" ng-click="population.relieve(job)">-</button>
			<span>{{job.name}}: {{population.getJobTotal(job)}}</span>
			<button class="btn" ng-disabled="!canAssignWorker(job)" ng-click="population.assign(job)">+</button>
		</div>
	</div>

	<h3>Buildings</h3>
	<div class="buildings">
		<div class="building" ng-repeat="b in buildings">
			<button ng-disabled="!resources.enough(b.cost)" ng-click="buildings.build(b)">Build {{b.name}}</button>{{b.name}}s: {{b.total}}
		</div>
	</div>

	

	

</body>
</html>